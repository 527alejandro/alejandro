// Rollup configuration
// GENERATED BY Bazel
const fs = require('fs');

let banner = '';

if (!!'TMPL_banner_file') {
  const raw_banner = fs.readFileSync('TMPL_banner_file', {encoding: 'utf-8'});
  const version = fs.readFileSync('TMPL_stamp_data', {encoding: 'utf-8'})
      .split('\n')
      .find(l => l.startsWith('BUILD_SCM_VERSION'))
      .split(' ')[1];
  banner = raw_banner.replace(/0.0.0-PLACEHOLDER/, version);
}

export default {
  banner
}
